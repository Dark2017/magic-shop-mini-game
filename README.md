# 魔法商店大亨 - H5版小游戏

这是一个基于Canvas的魔法商店经营小游戏，现已成功改造为H5版本，可在任何浏览器中运行！

## 🎉 H5版本特性

- ✅ **跨平台兼容**: 支持PC、手机、平板等所有设备
- ✅ **PWA支持**: 可安装到桌面，像原生应用一样使用
- ✅ **广告系统适配**: H5环境下完美模拟微信小程序广告功能
- ✅ **触摸优化**: 完整的手势支持，滑动、点击体验流畅
- ✅ **响应式设计**: 自适应不同屏幕尺寸
- ✅ **本地存储**: 数据自动保存，无需担心丢失进度

## 🚀 快速开始

### 在线体验
1. 部署到任何静态网站托管平台
2. 或者在本地启动HTTP服务器：
   ```bash
   # 方式1: Python
   python -m http.server 8080
   
   # 方式2: Node.js  
   npx serve .
   ```
3. 访问 `http://localhost:8080/index.html`

### 部署平台推荐
- **GitHub Pages** - 免费，适合个人项目
- **Netlify** - 免费，自动部署，CDN加速
- **Vercel** - 免费，快速部署
- **阿里云OSS** - 国内访问速度快

更多详细信息请查看 `H5游戏部署指南.md`

## 项目结构

```
jh-game-web/
├── assets/                     # 游戏资源文件夹
│   ├── images/                 # 图片资源
│   │   ├── backgrounds/        # 背景图片
│   │   ├── workshops/          # 工作坊图片
│   │   ├── customers/          # 顾客图片
│   │   ├── items/              # 商品图标
│   │   ├── ui/                 # UI界面元素
│   │   └── effects/            # 特效图片
│   └── image-descriptions.md   # 详细的图片描述文档
├── src/                        # 源代码
│   └── managers/               # 游戏管理器
│       ├── GameManager.js      # 游戏核心逻辑
│       ├── UIManager.js        # UI界面管理
│       ├── DataManager.js      # 数据管理
│       └── AdManager.js        # 广告管理
├── game.js                     # 游戏入口文件
├── test.html                   # 测试页面
└── README.md                   # 项目说明
```

## 图片资源系统

### 当前状态
项目已经设置好完整的图片资源管理系统：
- ✅ 目录结构已创建
- ✅ 图片路径已配置为本地文件
- ✅ 完整的fallback渲染系统
- ✅ 详细的图片描述文档

### 需要的图片资源

项目需要总共 **24 张图片**，分为以下类别：

#### 背景类 (3张)
- `shopBackground.png` (400x300) - 魔法商店室内背景
- `ground.png` (800x100) - 商店地面纹理  
- `shopSign.png` (200x60) - 魔法商店招牌

#### 工作坊类 (4张)
- `potionLab.png` (80x80) - 药水实验室
- `enchantTable.png` (80x80) - 附魔台
- `crystalForge.png` (80x80) - 水晶熔炉
- `workshopIdle.png` (80x80) - 未激活工作台

#### 顾客类 (4张)
- `normalMage.png` (40x60) - 普通法师
- `adventurer.png` (40x60) - 冒险者
- `noble.png` (40x60) - 贵族
- `urgentCustomer.png` (40x60) - 急客

#### 商品类 (3张)
- `potionIcon.png` (30x30) - 魔法药水图标
- `enchantmentIcon.png` (30x30) - 附魔卷轴图标
- `crystalIcon.png` (30x30) - 魔法水晶图标

#### UI界面类 (6张)
- `progressBarBg.png` (80x8) - 进度条背景
- `progressBarFill.png` (80x8) - 进度条填充
- `patienceBarBg.png` (40x4) - 耐心值背景
- `patienceBarGreen.png` (40x4) - 耐心值良好
- `patienceBarYellow.png` (40x4) - 耐心值警告
- `patienceBarRed.png` (40x4) - 耐心值危险

#### 特效类 (4张)
- `goldCoin.png` (20x20) - 金币特效
- `sparkle.png` (10x10) - 闪光特效
- `heart.png` (15x15) - 爱心特效
- `anger.png` (15x15) - 愤怒特效

### 如何添加图片

1. **生成图片**: 使用AI工具根据 `assets/image-descriptions.md` 中的详细描述生成对应图片
2. **命名和尺寸**: 严格按照上述文件名和尺寸要求
3. **放置位置**: 将图片放入对应的子文件夹中
4. **格式要求**: 建议使用PNG格式（支持透明背景）
5. **测试**: 图片放置后直接刷新游戏即可看到效果

### Fallback机制

即使图片未加载或缺失，游戏也能正常运行：
- 显示颜色方块作为占位符
- 添加文字说明标识不同元素
- 保持游戏功能完整性

## 游戏特性

### 核心玩法
- **工作坊管理**: 经营药水实验室、附魔台、水晶熔炉
- **顾客服务**: 满足不同类型顾客的需求
- **资源管理**: 平衡金币、库存、声望等资源
- **升级系统**: 提升工作坊等级和商店等级

### 让用户上头的机制
- **广告复活**: 看广告加速生产、获得双倍收益
- **离线收益**: 离线也能获得收益，观看广告翻倍
- **连击系统**: 快速点击获得连击特效
- **视觉反馈**: 丰富的粒子特效和浮动文字
- **成就系统**: 各种统计和成就激励

### UI适配
- **顶部适配**: 固定88px边距适配微信小程序状态栏
- **合理布局**: 避免UI元素重叠，清晰的视觉层次
- **触摸优化**: 44px最小触摸目标，优化手机操作体验

## 开发说明

### 测试
使用 `test.html` 在浏览器中测试游戏功能。

### 部署
将整个项目部署到支持静态文件的服务器即可。

### 微信小程序集成
将游戏逻辑集成到微信小程序项目中，确保广告API正确配置。

## 后续计划

1. **添加音效**: 为各种操作添加音效反馈
2. **更多内容**: 增加更多工作坊类型和顾客类型
3. **社交功能**: 添加排行榜和好友系统
4. **季节活动**: 定期更新游戏内容和活动

---

**注意**: 请确保在使用前根据 `assets/image-descriptions.md` 生成并放置所有必需的图片资源。
