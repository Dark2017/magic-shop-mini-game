# 配置问题解决方案

## 🔧 问题原因

**您遇到的问题**：导入项目后自动切换到小程序类别

**根本原因**：`project.config.json` 文件中的配置项设置错误：
- `compileType` 被设置为 `"miniprogram"` 而不是 `"game"`
- 包含了小程序特有的配置项

## ✅ 已修复的配置

### 主要修改内容：

1. **编译类型修正**：
   ```json
   // 修改前
   "compileType": "miniprogram"
   
   // 修改后  
   "compileType": "game"
   ```

2. **移除小程序特有配置**：
   - 删除了 `miniprogramRoot`
   - 删除了 `srcMiniprogramRoot`
   - 简化了 `condition` 配置
   - 移除了小程序相关的页面配置

3. **AppID重置**：
   ```json
   // 重置为测试AppID
   "appid": "wx123456789abcdef0"
   ```

## 🚀 现在可以正常使用

### 导入步骤：
1. 打开微信开发者工具
2. 选择"导入项目"
3. 选择项目目录：`d:/wm/jh-game-web`
4. **现在会正确识别为小游戏项目**
5. 如果提示AppID，选择"不使用云服务，体验小游戏"

### 验证方法：
- 工具栏显示"小游戏"而不是"小程序"
- 可以正常编译运行
- 模拟器显示Canvas内容

## 🔍 如何避免此类问题

### 正确的小游戏项目配置：
```json
{
  "projectname": "项目名称",
  "description": "项目描述", 
  "compileType": "game",        // 关键：必须是 "game"
  "libVersion": "3.9.2",
  "setting": {
    // 游戏相关设置...
  },
  "condition": {
    "game": {
      "list": []
    }
  }
}
```

### 小程序vs小游戏配置对比：

| 配置项 | 小程序 | 小游戏 |
|--------|--------|--------|
| compileType | "miniprogram" | "game" |
| 入口文件 | app.js | game.js |
| 配置文件 | app.json | game.json |
| 页面概念 | pages/ | 无 |
| 渲染方式 | WXML/WXSS | Canvas |

## 📝 配置文件说明

### game.json（小游戏配置）
```json
{
  "deviceOrientation": "portrait",
  "showStatusBar": false,
  "resizable": false
}
```

### project.config.json（项目配置）
```json
{
  "compileType": "game",
  "projectname": "项目名称"
}
```

## ⚠️ 注意事项

1. **不要混用配置**：小程序和小游戏的配置不能混用
2. **AppID类型**：确保使用小游戏AppID，不是小程序AppID
3. **文件结构**：小游戏以game.js为入口，不需要pages目录
4. **重新导入**：如果仍有问题，删除.idea等缓存文件重新导入

## 🛠️ 故障排除

### 如果问题仍然存在：

1. **清除缓存**：
   - 关闭微信开发者工具
   - 删除项目目录下的隐藏文件（如.idea）
   - 重新导入项目

2. **重新创建**：
   - 在微信开发者工具中新建小游戏项目
   - 将代码文件复制到新项目中

3. **检查版本**：
   - 确保微信开发者工具版本较新
   - 小游戏开发建议使用稳定版

---

**修复完成**：现在项目配置已正确，可以正常作为小游戏项目导入和运行。
